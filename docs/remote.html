<!--
<?php
error_reporting(E_ALL);
ini_set('display_errors',1);
ini_set('display_startup_errors',1);
error_reporting(-1);

require_once("bootstrap.php");

if ($db->connect_errno > 0){
  die('Unable to connect to database [' . $db->connect_error . ']');
}


function print_channels($db) {
  $statement = $db->prepare("SELECT chl_id,chl_name,chl_no,chl_cat_id,chl_logo FROM remote_channel ORDER BY chl_id");
  $statement->execute();
  $statement->bind_result($chl_id, $chl_name, $chl_no, $chl_cat_id, $chl_logo);
  while($statement->fetch()) {
  $chl_logo = str_replace(" ", "-", strtolower($chl_name)) . ".gif";

    $logo_img = '<img src="images/logos/'.htmlspecialchars($chl_logo).'" width="90px" />';
    if (!file_exists('images/logos/'.$chl_logo)) {
      $logo_img = '<img src="images/logos/clear.gif" width="90px" height="50px" />';
    }
    print '<li id="chl-'.htmlspecialchars($chl_no).'" class="chl cat-'.htmlspecialchars($chl_cat_id).' clearfix" data-num="'.htmlspecialchars($chl_no).'" data-id="'.htmlspecialchars($chl_id).'" data-name="'.htmlspecialchars($chl_name).'">
		<div class="chl-logo"><div class="chl-no">'.htmlspecialchars($chl_no).'</div>'.$logo_img.'</div>
		<div class="chl-details clearfix">
		  <div class="chl-details-top">
		    <div class="chl-name stb">'.htmlspecialchars($chl_name).'</div>
		    <div class="chl-controls"><div class="chl-control-fav"></div></div>
		  </div>
		  <div class="chl-programs not-loaded">Touch to load programs list</div>
		</div>
	</li>';
  }
}

function print_categories($db) {
  $statement = $db->prepare("SELECT cat_id,cat_name FROM remote_category");
  $statement->execute();
  $statement->bind_result($cat_id, $cat_name);
  while($statement->fetch()){
    print '<li class="">
			<label class="cat" for="cat_'.htmlspecialchars($cat_id).'">
				<span>'.htmlspecialchars($cat_name).'</span>
				<input type="checkbox" id="cat_'.htmlspecialchars($cat_id).'" value="'.htmlspecialchars($cat_id).'" class="cat-tick" />
			</label>
		</li>';
  }
}


?>-->
<!doctype html>
<html>
<head>
<title>Smartmote</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">

<!-- <link rel="stylesheet" type="text/css" href="css/jquery.mobile-1.4.5.min.css"> -->
<!-- <link rel="stylesheet" type="text/css" href="css/jquery.mobile.checkradio.structure.min.css"> -->
<link rel="stylesheet" type="text/css" href="css/jquery.materialripple.css">
<link rel="stylesheet" type="text/css" href="css/main.css?v=1.48">

<!-- fonts -->
<link href='http://fonts.googleapis.com/css?family=Roboto+Condensed' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=Roboto' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=Roboto+Slab' rel='stylesheet' type='text/css'>

<!-- <script type="text/javascript" src="js/jquery.mobile.checkradio.min.js"></script> -->
<!-- <script type="text/javascript" src="js/jquery.mobile-1.4.5.min.js"></script> -->
<script type="text/javascript" src="js/jquery.js?v=1.2"></script>
<script type="text/javascript" src="js/jquery.materialripple.js"></script>


</head>
<body>

<!--
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-60335508-1', 'auto');
  ga('send', 'pageview');

</script>
-->

<div id="container">
<!-- <div id="result"></div> -->
<div id="recents-bar">
	<div id="recent-tab-1" class="recent-tab chl"><img class="chl-logo" /></div>
	<div id="recent-tab-2" class="recent-tab chl"><img class="chl-logo" /></div>
	<div id="recent-tab-3" class="recent-tab chl"><img class="chl-logo" /></div>
	<div id="recent-tab-4" class="recent-tab chl"><img class="chl-logo" /></div>
	<div id="recent-tab-5" class="recent-tab chl"><img class="chl-logo" /></div>
</div>


<ul id="channels">
<?php
  print_channels($db);
?>
</ul>


<table id="panel-controls" class="panel" style="bottom: 60px;">
  <tr>
    <td><a id="stb_red" class="btn stb" data-key="STB_RED"></a></td>
    <td><a id="stb_green" class="btn stb" data-key="STB_GREEN"></a></td>
    <td><a id="stb_yellow" class="btn stb" data-key="STB_YELLOW"></a></td>
    <td><a id="stb_blue" class="btn stb" data-key="STB_BLUE"></a></td>
  </tr>
  <tr>
    <td><a id="stb_channel" class="btn stb" data-key="STB_CHANNEL">chl</a></td>
    <td><a id="stb_messages" class="btn stb" data-key="STB_MESSAGES"></a></td>
    <td><a id="stb_list" class="btn stb" data-key="STB_LIST"></a></td>
    <td><a id="stb_favorites" class="btn stb" data-key="STB_FAVORITES"></a></td>
  </tr>
  <tr>
	<td><a id="stb_power" class="btn stb" data-key="STB_POWER"></a></td>
    <td><a id="stb_menu" class="btn stb" data-key="STB_MENU"></a></td>
    <td><a id="stb_info" class="btn stb" data-key="STB_INFO"></a></td>
	<td><a id="stb_mute" class="btn stb" data-key="STB_MUTE"></a></td>
  </tr>
  <tr>
    <td><a id="stb_1" class="btn stb" data-key="STB_1">1</a></td>
    <td><a id="stb_2" class="btn stb" data-key="STB_2">2</a></td>
    <td><a id="stb_3" class="btn stb" data-key="STB_3">3</a></td>
    <td><a id="stb_vol_up" class="btn stb" data-key="STB_VOLUMEUP">+</a></td>
  </tr>
  <tr>
    <td><a id="stb_4" class="btn stb" data-key="STB_4">4</a></td>
    <td><a id="stb_5" class="btn stb" data-key="STB_5">5</a></td>
    <td><a id="stb_6" class="btn stb" data-key="STB_6">6</a></td>
    <td><a id="stb_vol_down" class="btn stb" data-key="STB_VOLUMEDOWN">-</a></td>
  </tr>
  <tr>
    <td><a id="stb_7" class="btn stb" data-key="STB_7">7</a></td>
    <td><a id="stb_8" class="btn stb" data-key="STB_8">8</a></td>
    <td><a id="stb_9" class="btn stb" data-key="STB_9">9</a></td>
    <td><a id="stb_ch_next" class="btn stb" data-key="STB_NEXT"></a></td>
  </tr>
  <tr>
    <td><a id="stb_ok" class="btn stb" data-key="STB_OK">OK</a></td>
    <td><a id="stb_0" class="btn stb" data-key="STB_0">0</a></td>
    <td><a id="stb_back" class="btn stb" data-key="STB_BACK"></a></td>
    <td><a id="stb_ch_prev" class="btn stb" data-key="STB_PREVIOUS"></a></td>
  </tr>
</table>

<!--
<div style="position: fixed; margin-top: -1px; left: 12%; width: 0; height: 0; padding: 0; border-left: 7px solid transparent; border-right: 7px solid transparent; border-top: 7px solid #fff; float: right;"></div>
-->


<div id="panel-filter" class="panel" style="">
	<ul>
<?php
  print_categories($db);
?>
	</ul>
</div>


<div id="panel-search" class="panel" style="">
	<input type="text" name="search-text" id="search-box" size="20" placeholder="Search" /><a id="clear-search" href="#"></a>
</div>


<ul id="tab-bar">
	<li id="tab-controls" class="tab"><a href="#">Remote</a></li>
	<li id="tab-channels" class="tab"><a href="#">All<br />Channels</a></li>
	<li id="tab-filter" class="tab"><a href="#">Filter</a></li>
	<li id="tab-search" class="tab"><a href="#">Search</a></li>
	<li id="tab-favs" class="tab"><a href="#">Favourites</a></li>
</ul>


</div>




<script>
var channels = [
[1, 'STAR PLUS', 1, 0, '', 7, null, 'star-plus'],
[2, 'LIFE OK', 2, 0, '', 7, null, 'life-ok'],
[3, 'COLORS', 3, 0, '', 7, null, 'colors'],
[4, 'SONY', 4, 0, '', 7, null, 'sony-entertainment-tv'],
[5, 'SAB TV', 5, 0, '', 7, null, 'sony-sab'],
[6, 'ZEE TV', 6, 0, '', 7, null, 'zee-tv'],
[7, 'CHANNEL V', 7, 0, '', 10, null, 'channel-[v]'],
[8, 'HOME SHOP 18', 8, 0, '', 7, null, 'home-shop-18'],
[9, 'STAR CJ', 9, 0, '', 7, null, 'star-cj'],
[10, 'DD 1 - NATIONAL', 14, 0, '', 7, null, 'dd-1---national'],
[11, 'STAR UTSAV', 15, 0, '', 7, null, 'star-utsav'],
[12, 'ZOOM', 20, 0, '', 7, null, 'zoom'],
[13, 'FOOD FOOD', 21, 0, '', 7, null, 'food-food'],
[14, 'STAR WORLD', 321, 0, '', 6, '23', 'star-world'],
[15, 'COMEDY CENTRAL', 322, 0, '', 6, '267', 'comedy-central'],
[16, 'AXN', 323, 0, '', 6, null, 'axn'],
[17, 'FX', 324, 0, '', 6, '169', 'fx'],
[18, 'ZEE CAFE', 325, 0, '', 6, '65', 'zee-cafe'],
[19, 'FOX CRIME', 327, 0, '', 6, null, 'fox-crime'],
[20, 'STAR GOLD', 100, 0, '', 9, null, 'star-gold'],
[21, 'MOVIES OK', 101, 0, '', 9, null, 'movies-ok'],
[22, 'SET MAX', 102, 0, '', 9, null, 'sony-max'],
[23, 'ZEE CINEMA', 103, 0, '', 9, null, 'zee-cinema'],
[24, 'B4U MOVIES', 104, 0, '', 9, null, 'b4u-movies'],
[25, 'UTV MOVIES', 105, 0, '', 9, null, 'utv-movies'],
[26, 'UTV ACTION', 106, 0, '', 9, null, 'utv-action'],
[27, 'STAR MOVIES', 341, 0, '', 8, '59', 'star-movies'],
[28, 'STAR MOVIES ACTION', 345, 0, '', 8, '284', 'star-movies-action'],
[29, 'SONY PIX', 344, 0, '', 8, '53', 'sony-pix'],
[30, 'MOVIES NOW', 343, 0, '', 8, '207', 'movies-now'],
[31, 'WB', 348, 0, '', 8, '99', 'wb'],
[32, 'ROMEDY NOW', 347, 0, '', 8, '482', 'romedy-now'],
[33, 'ZEE STUDIO', 346, 0, '', 8, '63', 'zee-studio'],
[34, 'WORLD MOVIES', 351, 0, '', 8, '74', 'world-movies'],
[35, 'HBO', 342, 0, '', 8, '8', 'hbo'],
[36, 'HBO DEFINED SD', 141, 0, '', 8, null, 'hbo-defined-sd'],
[37, 'HBO HITS SD', 142, 0, '', 8, null, 'hbo-hits-sd'],
[38, 'SONY SIX SD', 150, 0, '', 3, null, 'sony-six-sd'],
[39, 'STAR SPORTS 4', 151, 0, '', 3, null, 'star-sports-4'],
[40, 'STAR SPORTS 1', 152, 0, '', 3, null, 'star-sports-1'],
[41, 'STAR SPORTS 3', 153, 0, '', 3, null, 'star-sports-3'],
[42, 'STAR SPORTS 2', 154, 0, '', 3, null, 'star-sports-2'],
[43, 'TEN CRICKET', 156, 0, '', 3, null, 'ten-cricket'],
[44, 'TEN SPORTS', 157, 0, '', 3, null, 'ten-sports'],
[45, 'TEN ACTION', 158, 0, '', 3, null, 'ten-action'],
[46, 'TEN GOLF', 159, 0, '', 3, null, 'ten-golf'],
[47, 'NEO SPORTS', 160, 0, '', 3, null, 'neo-sports'],
[48, 'NEO PRIME', 161, 0, '', 3, null, 'neo-prime'],
[49, 'DD SPORTS', 164, 0, '', 3, null, 'dd-sports'],
[50, 'ITV GAMES', 180, 0, '', 106, null, 'itv-games'],
[51, 'ITV GAMES', 181, 0, '', 106, null, 'itv-games'],
[52, 'ABP NEWS', 200, 0, '', 5, null, 'abp-news'],
[53, 'NDTV INDIA', 202, 0, '', 5, null, 'ndtv-india'],
[54, 'AAJ TAK', 204, 0, '', 5, null, 'aaj-tak'],
[55, 'ZEE NEWS', 207, 0, '', 5, null, 'zee-news'],
[56, 'DD NEWS', 213, 0, '', 5, null, 'dd-news'],
[57, 'DD INDIA', 228, 0, '', 5, null, 'dd-india'],
[58, 'TIMES NOW', 421, 0, '', 4, null, 'times-now'],
[59, 'CNN IBN', 422, 0, '', 4, null, 'cnn-ibn'],
[60, 'NDTV 24X7', 423, 0, '', 4, null, 'ndtv-24x7'],
[61, 'HEADLINES TODAY', 254, 0, '', 4, null, 'headlines-today'],
[62, 'NEWS X', 255, 0, '', 4, null, 'newsx'],
[63, 'BBC WORLD', 262, 0, '', 4, null, 'bbc-world-news'],
[64, 'CNN', 263, 0, '', 4, null, 'cnn'],
[65, 'CNBC', 270, 0, '', 4, null, 'cnbc'],
[66, 'ET NOW', 271, 0, '', 4, null, 'et-now'],
[67, 'NDTV PROFIT', 272, 0, '', 4, null, 'ndtv-profit'],
[68, 'BLOOMBERG TV', 273, 0, '', 4, null, 'bloomberg-tv'],
[69, 'HATHWAY MUSIC', 300, 0, '', 11, null, 'hathway-music'],
[70, 'MTV INDIA', 301, 0, '', 10, null, 'mtv'],
[71, 'SONY MIX', 302, 0, '', 11, null, 'sony-mix'],
[72, 'ETC', 306, 0, '', 11, null, 'etc'],
[73, '9XM', 308, 0, '', 11, null, '9xm'],
[74, 'B4U MUSIC', 309, 0, '', 11, null, 'b4u-music'],
[75, 'VH -1', 316, 0, '', 10, null, 'vh--1'],
[76, '9XO', 318, 0, '', 10, null, '9xo'],
[77, 'Star Movies HD with Dolby 5.1', 350, 0, '', 110, null, 'star-movies-hd-with-dolby-5.1'],
[78, 'Movies Now HD with Dolby 5.1', 351, 0, '', 110, null, 'movies-now-hd-with-dolby-5.1'],
[79, 'Zee Studio HD with Dolby 5.1', 353, 0, '', 110, null, 'zee-studio-hd-with-dolby-5.1'],
[80, 'HBO Defined HD', 356, 0, '', 110, null, 'hbo-defined-hd'],
[81, 'HBO Hits HD', 357, 0, '', 110, null, 'hbo-hits-hd'],
[82, 'Star Gold HD with Dolby 5.1', 358, 0, '', 110, null, 'star-gold-hd-with-dolby-5.1'],
[83, 'Zee Cinema HD', 359, 0, '', 110, null, 'zee-cinema-hd'],
[84, 'Ten HD', 365, 0, '', 110, null, 'ten-hd'],
[85, 'Star Sports HD 2', 366, 0, '', 110, null, 'star-sports-hd-2'],
[86, 'Star Sports HD 1', 367, 0, '', 110, null, 'star-sports-hd-1'],
[87, 'Six HD with Dolby 5.1', 368, 0, '', 110, null, 'six-hd-with-dolby-5.1'],
[88, 'Star Plus HD with Dolby 5.1', 370, 0, '', 110, null, 'star-plus-hd-with-dolby-5.1'],
[89, 'Colors HD with Dolby 5.1', 371, 0, '', 110, null, 'colors-hd-with-dolby-5.1'],
[90, 'Zee Tv HD', 373, 0, '', 110, null, 'zee-tv-hd'],
[91, 'Sony HD with Dolby 5.1', 374, 0, '', 110, null, 'sony-hd-with-dolby-5.1'],
[92, 'Star World Premiere HD', 376, 0, '', 110, null, 'star-world-premiere-hd'],
[93, 'Star World HD with Dolby 5.1', 377, 0, '', 110, null, 'star-world-hd-with-dolby-5.1'],
[94, 'CNBC Prime HD', 381, 0, '', 110, null, 'cnbc-prime-hd'],
[95, 'NGC HD', 385, 0, '', 110, null, 'ngc-hd'],
[96, 'History TV18 HD with Dolby 5.1', 386, 0, '', 110, null, 'history-tv18-hd-with-dolby-5.1'],
[97, 'Discovery HD with Dolby 5.1', 387, 0, '', 110, null, 'discovery-hd-with-dolby-5.1'],
[98, 'Fox Traveller HD', 389, 0, '', 110, null, 'fox-traveller-hd'],
[99, 'NGC Wild HD', 390, 0, '', 110, null, 'ngc-wild-hd'],
[100, 'Nat Geo Adventure HD', 391, 0, '', 110, null, 'nat-geo-adventure-hd'],
[101, 'Baby TV HD', 392, 0, '', 110, null, 'baby-tv-hd'],
[102, 'Nat Geo Music HD', 395, 0, '', 110, null, 'nat-geo-music-hd'],
[103, 'MTunes HD with Dolby 5.1', 396, 0, '', 110, null, 'mtunes-hd-with-dolby-5.1'],
[105, 'DISCOVERY KIDS', 401, 0, '', 12, null, 'discovery-kids'],
[106, 'CARTOON NETWORK', 402, 0, '', 12, null, 'cartoon-network'],
[108, 'HUNGAMA', 404, 0, '', 12, null, 'hungama'],
[109, 'DISNEY', 405, 0, '', 12, null, 'disney'],
[111, 'ANIMAX', 409, 0, '', 12, '57', 'animax'],
[124, 'NATIONAL GEOGRAPHIC CHANNEL', 450, 0, '', 13, '71', 'national-geographic-channel'],
[125, 'DISCOVERY', 451, 0, '', 13, '46', 'discovery-channel'],
[128, 'NICK TV', 400, 0, '', 12, null, 'nick-tv'],
[131, 'POGO', 403, 0, '', 12, null, 'pogo'],
[134, 'DISNEY XD', 406, 0, '', 12, null, 'disney-xd'],
[138, 'HISTORY TV 18 SD', 452, 0, '', 13, null, 'history-tv-18-sd'],
[139, 'DISCOVERY SCIENCE', 453, 0, '', 13, null, 'discovery-science'],
[140, 'ANIMAL PLANET', 454, 0, '', 13, null, 'animal-planet'],
[141, 'NG WILD', 456, 0, '', 13, null, 'nat-geo-wild'],
[142, 'DD GYAN DARSHAN', 473, 0, '', 113, null, 'dd-gyan-darshan'],
[143, 'DD BHARATI', 475, 0, '', 113, null, 'dd-bharati'],
[144, 'DD RAJYA SABHA', 480, 0, '', 114, null, 'dd-rajya-sabha'],
[145, 'LOKASABHA', 481, 0, '', 114, null, 'lokasabha'],
[146, 'STAR PRAVAH', 500, 0, '', 115, null, 'star-pravah'],
[147, 'ZEE MARATHI', 502, 0, '', 115, null, 'zee-marathi'],
[148, 'ETV MARATHI', 503, 0, '', 115, null, 'etv-marathi'],
[149, 'DD SAHYADRI', 504, 0, '', 115, null, 'dd-sahyadri'],
[150, 'ETV GUJARATI', 530, 0, '', 116, null, 'etv-gujarati'],
[151, 'DD GUJARATI', 531, 0, '', 116, null, 'dd-gujarati'],
[152, 'SUN TV', 550, 0, '', 2, null, 'sun-tv'],
[153, 'STAR VIJAY', 552, 0, '', 2, null, 'star-vijay'],
[154, 'POLIMER', 553, 0, '', 2, null, 'polimer'],
[155, 'VASANTH TV', 555, 0, '', 2, null, 'vasanth-tv'],
[156, 'RAJ TV', 556, 0, '', 2, null, 'raj-tv'],
[157, 'JAYA TV', 558, 0, '', 2, null, 'jaya-tv'],
[158, 'KALAIGNAR TV', 560, 0, '', 2, null, 'kalaignar-tv'],
[159, 'DD PODHIGAI', 564, 0, '', 2, null, 'dd-podhigai'],
[160, 'DISCOVERY TAMIL', 569, 0, '', 2, null, 'discovery-tamil'],
[161, 'ADITHYA TV', 570, 0, '', 2, null, 'adithya-tv'],
[162, 'SIRIPPOLI', 571, 0, '', 2, null, 'sirippoli'],
[163, 'SUN NEWS', 574, 0, '', 2, null, 'sun-news'],
[164, 'KALAIGNAR SEITHIGAL', 575, 0, '', 2, null, 'kalaignar-seithigal'],
[165, 'JAYA PLUS', 576, 0, '', 2, null, 'jaya-plus'],
[166, 'ISAI ARUVI', 583, 0, '', 2, null, 'isai-aruvi'],
[167, 'SUN MUSIC', 584, 0, '', 2, null, 'sun-music'],
[168, 'MURASU', 585, 0, '', 2, null, 'murasu'],
[169, 'JAYA MAX', 586, 0, '', 2, null, 'jaya-max'],
[170, 'KTV', 588, 0, '', 2, null, 'ktv'],
[171, 'JAYA MOVIES', 589, 0, '', 2, null, 'jaya-movies'],
[172, 'ASEERVATHAM TV', 593, 0, '', 2, null, 'aseervatham-tv'],
[173, 'ANGEL TV', 594, 0, '', 2, null, 'angel-tv'],
[174, 'GEMINI TV', 595, 0, '', 118, null, 'gemini-tv'],
[175, 'MAA TV', 596, 0, '', 118, null, 'maa-tv'],
[176, 'ETV TELUGU', 598, 0, '', 118, null, 'etv-telugu'],
[177, 'ZEE TELUGU', 599, 0, '', 118, null, 'zee-telugu'],
[178, 'DD SAPTAGIRI', 601, 0, '', 118, null, 'dd-saptagiri'],
[179, 'TV9 TELUGU', 612, 0, '', 118, null, 'tv9-telugu'],
[180, 'NTV', 613, 0, '', 118, null, 'ntv'],
[181, 'TV5 NEWS', 614, 0, '', 118, null, 'tv5-news'],
[182, 'ETV2', 617, 0, '', 118, null, 'etv2'],
[183, 'SAKSHI TV', 619, 0, '', 118, null, 'sakshi-tv'],
[184, 'STUDIO N', 620, 0, '', 118, null, 'studio-n'],
[185, 'YOU CHANNEL', 621, 0, '', 118, null, 'you-channel'],
[186, 'GEMINI MUSIC', 626, 0, '', 118, null, 'gemini-music'],
[187, 'MAA MUSIC', 627, 0, '', 118, null, 'maa-music'],
[188, 'MAA MOVIES', 629, 0, '', 118, null, 'maa-movies'],
[189, 'GEMINI MOVIES', 630, 0, '', 118, null, 'gemini-movies'],
[190, 'CALAVARY TV', 634, 0, '', 118, null, 'calavary-tv'],
[191, 'SVBC', 635, 0, '', 118, null, 'svbc'],
[192, 'BAKTHI TV', 636, 0, '', 118, null, 'bakthi-tv'],
[193, 'ARADANA', 637, 0, '', 118, null, 'aradana'],
[194, 'UDAYA', 640, 0, '', 119, null, 'udaya'],
[195, 'SUVARNA PLUS', 641, 0, '', 119, null, 'suvarna-plus'],
[196, 'ETV KANNADA', 642, 0, '', 119, null, 'etv-kannada'],
[197, 'ASIANET SUVARNA', 643, 0, '', 119, null, 'asianet-suvarna'],
[198, 'DD CHANDANA', 644, 0, '', 119, null, 'dd-chandana'],
[199, 'ZEE KANNADA', 645, 0, '', 119, null, 'zee-kannada'],
[200, 'KASTHURI TV', 646, 0, '', 119, null, 'kasthuri-tv'],
[201, 'C-BANGALORE', 652, 0, '', 119, null, 'c-bangalore'],
[202, 'UDAYA COMEDY', 654, 0, '', 119, null, 'udaya-comedy'],
[203, 'PUBLIC TV', 655, 0, '', 119, null, 'public-tv'],
[204, 'JANASRI', 656, 0, '', 119, null, 'janasri'],
[205, 'UDAYA NEWS', 657, 0, '', 119, null, 'udaya-news'],
[206, 'TV9 KANNADA', 658, 0, '', 119, null, 'tv9-kannada'],
[207, 'SUVARNA NEWS', 659, 0, '', 119, null, 'suvarna-news'],
[208, 'KASTHURI NEWS', 661, 0, '', 119, null, 'kasthuri-news'],
[209, 'SAMAYA TV', 662, 0, '', 119, null, 'samaya-tv'],
[210, 'UDAYA MUSIC', 664, 0, '', 119, null, 'udaya-music'],
[211, 'MCN', 665, 0, '', 119, null, 'mcn'],
[212, 'UDAYA MOVIES', 667, 0, '', 119, null, 'udaya-movies'],
[213, 'CHINTU TV', 668, 0, '', 119, null, 'chintu-tv'],
[214, 'SRI SANKARA', 669, 0, '', 119, null, 'sri-sankara'],
[215, 'SATYAVEEDA TV', 670, 0, '', 1, null, 'satyaveeda-tv'],
[216, 'SURYA TV', 672, 0, '', 1, null, 'surya-tv'],
[217, 'ASIANET', 674, 0, '', 1, null, 'asianet'],
[218, 'ASIANET PLUS', 676, 0, '', 1, null, 'asianet-plus'],
[219, 'MAZHAVIL MANORAMA', 677, 0, '', 1, null, 'mazhavil-manorama'],
[220, 'KAIRALI TV', 678, 0, '', 1, null, 'kairali-tv'],
[221, 'AMRITHA', 680, 0, '', 1, null, 'amritha'],
[222, 'JEEVAN TV', 681, 0, '', 1, null, 'jeevan-tv'],
[223, 'DD MALAYALAM', 682, 0, '', 1, null, 'dd-malayalam'],
[224, 'ASIANET NEWS', 690, 0, '', 1, null, 'asianet-news'],
[225, 'MANORAMA NEWS', 691, 0, '', 1, null, 'manorama-news'],
[226, 'KIRAN TV', 696, 0, '', 1, null, 'kiran-tv'],
[227, 'SHALOM TV', 698, 0, '', 1, null, 'shalom-tv'],
[228, 'STAR JASLA', 700, 0, '', 121, null, 'star-jasla'],
[229, 'ZEE BANGLA', 701, 0, '', 121, null, 'zee-bangla'],
[230, 'ETV BANGLA', 702, 0, '', 121, null, 'etv-bangla'],
[231, 'SONY AATH', 703, 0, '', 121, null, 'sony-aath'],
[232, 'DD BANGLA', 704, 0, '', 121, null, 'dd-bangla'],
[233, 'ABP ANANDA', 708, 0, '', 121, null, 'abp-ananda'],
[234, 'JALSHA MOVIES', 711, 0, '', 121, null, 'jalsha-movies'],
[235, 'ETV RAJASTHAN', 714, 0, '', 122, null, 'etv-rajasthan'],
[236, 'ETC PUNJABI', 720, 0, '', 123, null, 'etc-punjabi'],
[237, 'PTC PUNJABI', 721, 0, '', 123, null, 'ptc-punjabi'],
[238, 'DD PUNJABI', 724, 0, '', 123, null, 'dd-punjabi'],
[239, 'ETV ORIYA', 730, 0, '', 124, null, 'etv-oriya'],
[240, 'OTV', 734, 0, '', 124, null, 'otv'],
[241, 'DD ORIYA', 735, 0, '', 124, null, 'dd-oriya'],
[242, 'ETV URDU', 740, 0, '', 125, null, 'etv-urdu'],
[243, 'DD URDU', 742, 0, '', 125, null, 'dd-urdu'],
[244, 'ZEE SALAM', 744, 0, '', 125, null, 'zee-salam'],
[245, 'MAHUA TV', 750, 0, '', 126, null, 'mahua-tv'],
[246, 'DD BIHAR', 754, 0, '', 126, null, 'dd-bihar'],
[247, 'DD UP', 758, 0, '', 126, null, 'dd-up'],
[248, 'DD NORTH EAST', 764, 0, '', 126, null, 'dd-north-east'],
[249, 'DD KASHMIR', 766, 0, '', 126, null, 'dd-kashmir'],
[250, 'SANSKAR', 770, 0, '', 127, null, 'sanskar'],
[251, 'AASTHA', 772, 0, '', 127, null, 'aastha'],
[252, 'GOD TV', 786, 0, '', 127, null, 'god-tv'],
[253, 'FOX TRAVELLER', 800, 0, '', 128, null, 'fox-traveller'],
[254, 'TLC', 804, 0, '', 128, null, 'tlc'],
[255, 'DISCOVERY TURBO', 806, 0, '', 128, null, 'discovery-turbo'],
[256, 'GOOD TIMES', 807, 0, '', 128, null, 'good-times'],
[257, 'TRAVEL TRENDZ', 809, 0, '', 128, null, 'travel-trendz'],
[258, 'FTV', 811, 0, '', 128, null, 'ftv'],
[259, 'DW TV', 820, 0, '', 129, null, 'dw-tv'],
[260, 'TV5', 821, 0, '', 129, null, 'tv5'],
[261, 'RUSSIA TODAY', 822, 0, '', 129, null, 'russia-today'],
[262, 'AUSTRALIA NETWORK', 824, 0, '', 129, null, 'australia-network'],
[263, 'AL JAZEERA', 831, 0, '', 129, null, 'al-jazeera'],
[264, 'BTV', 850, 0, '', 130, null, 'btv'],
[265, 'BSL', 852, 0, '', 130, null, 'bsl'],
[266, 'RMV', 853, 0, '', 130, null, 'rmv'],
[267, 'TV 21', 855, 0, '', 130, null, 'tv-21'],
[268, 'TV10', 856, 0, '', 130, null, 'tv10'],
[269, 'NEWS 9', 858, 0, '', 130, null, 'news-9'],
[270, 'AMN', 860, 0, '', 130, null, 'amn'],
[271, 'SALVATION TV', 870, 0, '', 130, null, 'salvation-tv'],
[272, 'NEW HOPE TV', 871, 0, '', 130, null, 'new-hope-tv'],
[273, 'LIFE TV', 872, 0, '', 130, null, 'life-tv'],
[274, 'RADIO VIVIDHBHARATHI', 875, 0, '', 131, null, 'radio-vividhbharathi'],
[275, 'RADIO TAMIL', 876, 0, '', 131, null, 'radio-tamil'],
[276, 'RADIO TELUGU', 877, 0, '', 131, null, 'radio-telugu'],
[277, 'RADIO KANNADA', 878, 0, '', 131, null, 'radio-kannada'],
[278, 'RADIO MALAYALAM', 879, 0, '', 131, null, 'radio-malayalam'],
[279, 'RADIO FM GOLD', 886, 0, '', 131, null, 'radio-fm-gold'],
[280, 'RADIO PUNJAB', 889, 0, '', 131, null, 'radio-punjab'],
[281, 'RADIO FRANCE INTERNATIONAL', 893, 0, '', 131, null, 'radio-france-international'],
[282, 'PROMO', 899, 0, '', 132, null, 'promo']
]

var listContainer = document.getElementById('channels')
channels.forEach(function(chl) {
  let chlName = chl[1]
  let chlLogo = chlName.toLowerCase().replace(/ /g, '-')+'.gif'
  let logoImg = '<img src="images/logos/'+chlLogo+'" width="90px" />'

  console.log(logoImg)

/*
  //$chl_logo = str_replace(" ", "-", strtolower($chl_name)) . ".gif";

    //$logo_img = '<img src="images/logos/'.htmlspecialchars($chl_logo).'" width="90px" />';

    if (!file_exists('images/logos/'.$chl_logo)) {
      $logo_img = '<img src="images/logos/clear.gif" width="90px" height="50px" />';
    }
*/
  let chlItem = document.createElement('li')
  listContainer.appendChild(chlItem)
/*
    print '<li id="chl-'.htmlspecialchars($chl_no).'" class="chl cat-'.htmlspecialchars($chl_cat_id).' clearfix" data-num="'.htmlspecialchars($chl_no).'" data-id="'.htmlspecialchars($chl_id).'" data-name="'.htmlspecialchars($chl_name).'">
		<div class="chl-logo"><div class="chl-no">'.htmlspecialchars($chl_no).'</div>'.$logo_img.'</div>
		<div class="chl-details clearfix">
		  <div class="chl-details-top">
		    <div class="chl-name stb">'.htmlspecialchars($chl_name).'</div>
		    <div class="chl-controls"><div class="chl-control-fav"></div></div>
		  </div>
		  <div class="chl-programs not-loaded">Touch to load programs list</div>
		</div>
	</li>';
*/
})
</script>

<script>
	function setCookie(name, value, days) {
		var expires;

		if (days) {
			var date = new Date();
			date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));
			expires = "; expires=" + date.toGMTString();
		} else {
			expires = "";
		}
		document.cookie = escape(name) + "=" + escape(value) + expires + "; path=/";
	}

	function getCookie(name) {
		var nameEQ = escape(name) + "=";
		var ca = document.cookie.split(';');
		for (var i = 0; i < ca.length; i++) {
			var c = ca[i];
			while (c.charAt(0) === ' ') c = c.substring(1, c.length);
			if (c.indexOf(nameEQ) === 0) return unescape(c.substring(nameEQ.length, c.length));
		}
		return null;
	}

	function deleteCookie(name) {
		setCookie(name, "", -1);
	}

	function push_recent(num) {
		if (jQuery.inArray(num, recents_queue) == -1) {
			recents_queue.unshift(num);
			if (recents_queue.length > 5) {
				recents_queue.pop();
			}
			jQuery.each(recents_queue, function(i, num) {
				img = $("#chl-"+num).find("img").attr("src");
				$("#recent-tab-"+(i+1)).attr("data-num", num);
				$("#recent-tab-"+(i+1)).find("img").attr("src", img);
			});
		}
	}

	function filter_by_cat() {
		selected_cats = [];
		$("li.chl").hide();
		$("input.cat-tick:checked").each(function() {
			cat = $(this).val();
			selected_cats.push(cat);
			$("li.chl.cat-"+cat).show();
		});
		if (selected_cats.length == 0) {
			$("li.chl").show();
		}
	}

	function close_controls() {
		$panel_controls.css({top: $(window).height()});
	}
	function close_filter() {
		$panel_filter.css({top: $(window).height()});
	}
	function close_search() {
		$panel_search.css({top: (0 - $panel_search.height() - 20)});
	}


	var favorites = [];
	var recents_queue = [];


	/*** onready ***/
	$( document ).ready(function() {
		var selected_cats = new Array();


		/* Caching jQuery elements */
		$container = $("#container");
		$result = $("#result");

		$panel_controls = $("#panel-controls");
		$panel_filter = $("#panel-filter");
		$panel_search = $("#panel-search");

		$tab_controls = $("#tab-controls");
		$tab_channels = $("#tab-channels");
		$tab_filter = $("#tab-filter");
		$tab_favs = $("#tab-favs");
		$tab_search = $("#tab-search");

		$search_box = $("#search-box");
		$recents_bar = $("#recents-bar");
		$channels_list = $("#channels");

		media_query="screen and (max-width: 500px)";
		if (window.matchMedia(media_query).matches) {
			// console.log("mobile");
		}
		else {
			// console.log("desktop");
			$container.css({width: "500px"});
		}


		/*** Syncing state ***/
		if (getCookie("favorites") === null) {
			favorites = [];
		}
		else {
			favorites = JSON.parse(getCookie("favorites"));
		}
		if (favorites != null && favorites.length != 0) {
			jQuery.each(favorites, function(i, num) {
				$("#channels li[data-num='"+num+"']").addClass("fav");
			});
		}
		$(".cat-tick").each(function(index) {
			if ($(this).is(':checked')) {
				filter_by_cat();
				$(this).parent().parent().addClass("cat-selected");
			}
		});


		/*** Setting CSS defaults ***/
		$("#channels").css({
			"margin-bottom": $("#tab-bar").height()
		});
		$(".chl-details").css({
			"width": ($container.width()-90)
		});
		$(".chl-name").css({
			"width": ($container.width()-115)
		});
		$(".panel").css({
			"top": $(window).height()
		});
		$panel_search.css({
			"top": (0 - $panel_search.height() - 20)
		});
		$recents_bar.width($container.width ());
		$("#tab-bar").width($container.width());
		$("#panel-controls").width($container.width());
		$("#panel-filter").width($container.width());
		$("#panel-search").width($container.width());
		$(".tab").width(($container.width()-4)/5);
		$("#search-box").width($container.width() - 70);



		/*** Load EPG ***/
//		$(".chl-programs.not-loaded").on("click", function() {
		$(".chl-details").on("click", function() {
			var id = $(this).parent().data("id");
			$result.text(id);
			var $prog_div = $(this).find(".chl-programs.not-loaded");
			$prog_div.addClass('loading');

			$.ajax({
				url: "epg.php?chl_id="+id,
				error: function(){
					$prog_div.html("Error loading programs");
				},
				success: function(epg_json){
					$prog_div.removeClass('loading');
					var epg = JSON.parse(epg_json);
					if (typeof epg.data.prog === 'undefined') {
						$prog_div.html("Program list unavailable for this channel");
					}
					else if (epg.status = 1 && epg.data.prog.length > 0) {
						$prog_div.removeClass('not-loaded');
						$prog_div.addClass('loaded');
						$prog_div.html('<ul class="chl-programs-container" style="width: '+(epg.data.prog.length * 205)+'px"></ul>');
						var $prog_ul = $prog_div.find('ul');
						$.each(epg.data.prog, function(index, value) {
							$prog_ul.append('<li class="chl-programs-prog"><div class="prog-name">'+value.prog_name+'</div><div class="prog-desc">'+value.prog_desc.substring(0, 80)+'</div><div class="prog-time">'+value.start_time_fmt+'</div></li>');
						});
					}
					else {
						$prog_div.html("Error loading programs");
					}
				},
				timeout: 10000
			});
		});


		/* Setting favorites */
		$(".chl-control-fav").on("click", function() {
			num = $(this).parent().parent().parent().parent().attr('data-num');
			fav_index = jQuery.inArray(num, favorites);
			if (fav_index == -1) {
				favorites.push(num);
				$(this).parent().parent().parent().parent().addClass("fav");
			}
			else {
				favorites.splice(fav_index, 1);
				$(this).parent().parent().parent().parent().removeClass("fav");
			}
			setCookie("favorites", JSON.stringify(favorites), 20*365);
		});


		/* Selecting Tabs */
		$("#tab-controls").on("click", function() {
			if ($tab_controls.hasClass("tab-selected")) {
				$channels_list.show();
				$recents_bar.show();
				$panel_controls.animate({top: $(window).height()}, 200, function() {
					$tab_controls.removeClass("tab-selected");
				});
			}
			else {
				close_filter();
				close_search();
				$panel_controls.animate({top: 0}, 200, function() {
					$(".tab-selected").removeClass("tab-selected");
					$tab_controls.addClass("tab-selected");
					$channels_list.hide();
					$recents_bar.hide();
				});
			}
		});

		$("#tab-filter").on("click", function() {
			if ($tab_filter.hasClass("tab-selected")) {
				$channels_list.show();
				$recents_bar.show();
				$panel_filter.animate({top: $(window).height()}, 200, function() {
					$tab_filter.removeClass("tab-selected");
				});
			}
			else {
				close_controls();
				close_search();
				$panel_filter.animate({top: 0}, 200, function() {
					$(".tab-selected").removeClass("tab-selected");
					$tab_filter.addClass("tab-selected");
					$channels_list.hide();
					$recents_bar.hide();
				});
			}
			filter_by_cat();
		});


		$("#tab-search").on("click", function() {
			if ($tab_search.hasClass("tab-selected")) {
				$channels_list.show();
				$recents_bar.show();
				$panel_search.animate({top: (0 - $panel_search.height() - 20)}, 200, function() {
					$tab_search.removeClass("tab-selected");
				});
			}
			else {
				close_controls();
				close_filter();
				$channels_list.show();
				$recents_bar.show();
				$panel_search.animate({top: 0}, 200, function() {
					$(".tab-selected").removeClass("tab-selected");
					$tab_search.addClass("tab-selected");
					$recents_bar.hide();
					$('#search-box').focus();
				});
			}

		});
		$('#search-box').keyup(function(){
			var search_text = $(this).val().toLowerCase();
			$("#channels>li").each(function(){
				var channel_name = $(this).data("name").toLowerCase();
				(channel_name.indexOf(search_text) >= 0) ? $(this).show() : $(this).hide();            
			});
		});
		$("#clear-search").on( "click", function() {
			$search_box.val("");
			$("#channels>li").show();
		});

		$("#tab-favs").on("click", function() {
			$(".tab-selected").removeClass("tab-selected");
			$tab_favs.addClass("tab-selected");
			$channels_list.show();
			$recents_bar.show();

			close_controls();
			close_filter();
			close_search();

			$panel_filter.animate({top: $(window).height()}, 200);
			$panel_controls.animate({top: $(window).height()}, 200);
			$panel_search.animate({top: (0 - $panel_search.height() - 20)}, 200);

			$("li.chl").hide();
			$(".fav").show();
		});

		$("#tab-channels").on("click", function() {
			close_controls();
			close_filter();
			close_search();

			$(".tab-selected").removeClass("tab-selected");
			$tab_channels.addClass("tab-selected");
			$channels_list.show();
			$recents_bar.show();

			$(".chl").show();
		});


		/* Clicking Buttons */
		$( ".btn" ).on( "click", function() {
			key = $(this).data("key");
			$result.text(key);
			$.get("send.php?remote=stb&key="+key);
		});

		$( ".chl-logo" ).on( "click", function() {
			num = $(this).parent().data("num");
			$result.text(num);
			$.get("send.php?remote=stb&chl="+num);
			if (!$(this).parent().hasClass("recent-tab")) {
				push_recent(num);
			}
		});


		/* Filtering */
		$( ".cat-tick" ).on( "click", function() {
			filter_by_cat();
			if ($(this).is(':checked')) {
				$(this).parent().parent().addClass("cat-selected");
			}
			else {
				$(this).parent().parent().removeClass("cat-selected");
			}
		});


		/* Material Ripple */
		$('.btn').materialripple();
		$('.tab').materialripple();
		$('#panel-filter li').materialripple();

	});
</script>

</body>
</html>
